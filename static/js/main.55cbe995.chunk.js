(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{23:function(e,t,c){},24:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),a=c(16),s=c.n(a),o=c(4),r=(c(23),c(2)),l=(c(24),c(0));function j(){return Object(l.jsx)("header",{className:"header",children:Object(l.jsxs)("nav",{children:[Object(l.jsx)(o.b,{exact:!0,className:"home-link",to:"/goit-react-hw-05-movies",activeClassName:"activelink",children:"Home"}),Object(l.jsx)(o.b,{className:"home-link",to:"/goit-react-hw-05-movies/movies",activeClassName:"activelink",children:"Movies"})]})})}var h=c(5);var b={fetchApi:function(e,t){return fetch("".concat(e,"api_key=").concat("13b30df76de0172d03d948f4ffbca658","&language=en-US&page=1&include_adult=false=quere&query=").concat(t)).then((function(e){if(console.log(e,"add"),e.ok)return e.json()}))}};function d(e){var t=Object(n.useState)(""),c=Object(h.a)(t,2),i=c[0],a=c[1],s=Object(r.i)().url;return Object(n.useEffect)((function(){return b.fetchApi("https://api.themoviedb.org/3/trending/movie/week?").then((function(e){a(e.results),window.localStorage.setItem("url",s)})),function(){}}),[]),Object(l.jsxs)("div",{className:"home-wrap",children:[Object(l.jsx)("h1",{children:"Trending today"}),i&&Object(l.jsx)("ul",{children:i.map((function(e){var t=e.name,c=e.original_title,n=e.id;return Object(l.jsx)("li",{children:Object(l.jsx)(o.b,{className:"home-item",to:"/goit-react-hw-05-movies/movies/".concat(n),children:t||c})},n)}))})]})}c(31);function u(e){var t=Object(r.h)().movieId,c=Object(n.useState)([]),i=Object(h.a)(c,2),a=i[0],s=i[1],o="https://api.themoviedb.org/3/movie/".concat(t,"/credits?");return Object(n.useEffect)((function(){b.fetchApi(o).then((function(e){s(e.cast)})).catch((function(e){console.log(e)}))}),[o]),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:"Additional Information"}),Object(l.jsx)("ul",{children:a&&a.map((function(e){var t=e.name,c=e.profile_path,n=e.character,i=e.id;return Object(l.jsxs)("li",{children:[Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(c),alt:t,width:"150"}),Object(l.jsx)("h3",{children:t}),Object(l.jsxs)("p",{children:["Character: ",Object(l.jsx)("span",{children:n})]})]},i)}))})]})}function m(e){var t=Object(r.h)().movieId,c=Object(n.useState)([]),i=Object(h.a)(c,2),a=i[0],s=i[1],o="https://api.themoviedb.org/3/movie/".concat(t,"/reviews?");return Object(n.useEffect)((function(){b.fetchApi(o).then((function(e){s(e.results)})).catch((function(e){console.log(e)}))}),[o]),Object(l.jsxs)("div",{children:[Object(l.jsx)("ul",{children:a&&a.map((function(e){var t=e.author,c=e.content,n=e.id;return Object(l.jsxs)("li",{rey:n,children:[Object(l.jsx)("h3",{children:t}),Object(l.jsx)("p",{children:c})]})}))}),0===a.length&&Object(l.jsx)("p",{children:"We don't have ane reviews for this movie."})]})}function O(){var e=Object(r.h)().movieId,t="https://api.themoviedb.org/3/movie/".concat(e,"?"),c=Object(n.useState)([]),i=Object(h.a)(c,2),a=i[0],s=i[1],j=Object(r.i)().url,d=Object(r.f)(),O=Object(r.g)();console.log(e,"quy"),Object(n.useEffect)((function(){b.fetchApi(t).then((function(e){s(e)})).catch((function(e){console.log(e)}))}),[t]);var v=function(){return a.title?a.title:a.original_title};return Object(l.jsxs)("div",{className:"wrap-page",children:[Object(l.jsx)("button",{className:"page-btn",onClick:function(){console.log(j,"url"),console.log(d,"HISTORY"),console.log(O.pathname),O.pathname!==j?d.push(O.state.from):d.goBack()},children:"Go Back"}),Object(l.jsxs)("div",{className:"card-page",children:[Object(l.jsx)("div",{children:Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(a.poster_path?a.poster_path:a.backdrop_path),alt:v()?v():"No info",width:"300"})}),Object(l.jsxs)("div",{className:"description-page",children:[Object(l.jsxs)("h1",{children:[v()?v():"No info",Object(l.jsxs)("span",{children:["(",parseInt(a.release_date),")"]})]}),Object(l.jsxs)("p",{className:"scope-page",children:["User scope: ",Object(l.jsxs)("span",{children:[10*a.vote_average,"% "]})]}),Object(l.jsx)("h2",{children:"Overview"}),Object(l.jsx)("p",{children:a.overview}),Object(l.jsx)("h2",{children:"Genres"}),Object(l.jsx)("p",{className:"genres-page",children:a.genres&&a.genres.map((function(e){var t=e.name;return Object(l.jsx)("span",{children:t})}))})]})]}),Object(l.jsxs)("div",{className:"wrap-dop",children:[Object(l.jsxs)(o.b,{className:"link-page",to:{pathname:"/goit-react-hw-05-movies/movies/".concat(e,"/cast"),state:{from:"".concat(window.localStorage.getItem("url"))}},activeClassName:"activelink",children:["Cast"," "]},"1"),Object(l.jsx)(o.b,{className:"link-page",to:{pathname:"/goit-react-hw-05-movies/movies/".concat(e,"/reviews"),state:{from:"".concat(window.localStorage.getItem("url"))}},activeClassName:"activelink",children:"Reviews"},"2")]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(r.a,{path:"/goit-react-hw-05-movies/movies/:movieId/cast",children:Object(l.jsx)(u,{})}),Object(l.jsx)(r.a,{path:"/goit-react-hw-05-movies/movies/:movieId/reviews",children:Object(l.jsx)(m,{})})]})]})}var v=c(14);function p(e){var t=e.onSubmit,c=Object(n.useState)(""),i=Object(h.a)(c,2),a=i[0],s=i[1],o=Object(r.f)(),j=Object(r.g)();return Object(l.jsx)("div",{className:"form-wrap",children:Object(l.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),t(a),o.push(Object(v.a)(Object(v.a)({},j),{},{search:"query=".concat(a)})),s("")},children:[Object(l.jsx)("input",{className:"SearchForm-input",type:"text",value:a,autoComplete:"off",onChange:function(e){s(e.target.value.toLowerCase().trim())},autoFocus:!0,placeholder:"Search images and photos"}),Object(l.jsx)("button",{className:"form-btn",type:"submit","aria-label":"Search",children:"Search"})]})})}function f(e){var t=Object(n.useState)(""),c=Object(h.a)(t,2),i=c[0],a=c[1],s=function(e,t){var c=Object(n.useState)((function(){var c;return null!==(c=JSON.parse(window.localStorage.getItem(e)))&&void 0!==c?c:t})),i=Object(h.a)(c,2),a=i[0],s=i[1];return Object(n.useEffect)((function(){window.localStorage.setItem(e,JSON.stringify(a))}),[e,a]),[a,s]}("movies",[]),j=Object(h.a)(s,2),d=j[0],u=j[1],m=Object(r.g)(),O=Object(r.i)().url;console.log(O);var v="https://api.themoviedb.org/3/search/movie?";Object(n.useEffect)((function(){if(""===m.search)return window.localStorage.clear(),void u([]);i?b.fetchApi(v,i).then((function(e){u(e.results)})).catch((function(e){console.log(e)})):console.log("\u0432\u044b \u0437\u0430\u0448\u043b\u0438 \u0432 movies")}),[m.search,i,v,u]);return Object(l.jsxs)("div",{className:"movies-wrap",children:[Object(l.jsx)(p,{onSubmit:function(e){window.localStorage.setItem("url",O+"?query=".concat(e)),a(e),console.log(O,"url")}}),0!==d.length?Object(l.jsx)("ul",{className:"movies-list",children:d.map((function(e){var t=e.name,c=e.original_title,n=e.id;return Object(l.jsx)("li",{children:Object(l.jsx)(o.b,{className:"movies-item",to:"/goit-react-hw-05-movies/movies/".concat(n),children:t||c})},n)}))}):Object(l.jsx)("p",{children:"Enter correct film's name"})]})}function g(e){return Object(l.jsx)("div",{children:Object(l.jsx)("h1",{children:"404 Not found pages"})})}c(32);var x=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(j,{}),Object(l.jsxs)(r.c,{children:[Object(l.jsx)(r.a,{exact:!0,path:"/goit-react-hw-05-movies",children:Object(l.jsx)(d,{})}),Object(l.jsx)(r.a,{path:"/goit-react-hw-05-movies/movies/:movieId",children:Object(l.jsx)(O,{})}),Object(l.jsx)(r.a,{path:"/goit-react-hw-05-movies/movies",children:Object(l.jsx)(f,{})}),Object(l.jsx)(r.a,{children:Object(l.jsx)(g,{})})]})]})};s.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(x,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.55cbe995.chunk.js.map