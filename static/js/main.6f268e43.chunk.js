(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{23:function(e,t,c){},24:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var i=c(1),n=c.n(i),r=c(16),s=c.n(r),o=c(4),a=(c(23),c(2)),j=(c(24),c(0));function h(){return Object(j.jsx)("header",{className:"header",children:Object(j.jsxs)("nav",{children:[Object(j.jsx)(o.c,{exact:!0,className:"home-link",to:"/goit-react-hw-05-movies",activeClassName:"activelink",children:"Home"}),Object(j.jsx)(o.c,{className:"home-link",to:"/goit-react-hw-05-movies/movies",activeClassName:"activelink",children:"Movies"})]})})}var l=c(5);var b={fetchApi:function(e,t){return fetch("".concat(e,"api_key=").concat("13b30df76de0172d03d948f4ffbca658","&language=en-US&page=1&include_adult=false=quere&query=").concat(t)).then((function(e){if(console.log(e,"add"),e.ok)return e.json()}))}};function d(e){var t=Object(i.useState)(""),c=Object(l.a)(t,2),n=c[0],r=c[1];return Object(i.useEffect)((function(){return b.fetchApi("https://api.themoviedb.org/3/trending/movie/week?").then((function(e){r(e.results)})),function(){}}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Hello World"}),n&&Object(j.jsx)("ul",{children:n.map((function(e){var t=e.name,c=e.original_title,i=e.id;return Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/goit-react-hw-05-movies/movies/".concat(i),children:t||c})},i)}))})]})}c(31);function u(e){var t=Object(a.h)().movieId,c=Object(i.useState)([]),n=Object(l.a)(c,2),r=n[0],s=n[1],o="https://api.themoviedb.org/3/movie/".concat(t,"/credits?");return Object(i.useEffect)((function(){b.fetchApi(o).then((function(e){s(e.cast)})).catch((function(e){console.log(e)}))}),[o]),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"Additional Information"}),Object(j.jsx)("ul",{children:r&&r.map((function(e){var t=e.name,c=e.profile_path,i=e.character,n=e.id;return Object(j.jsxs)("li",{children:[Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(c),alt:t,width:"150"}),Object(j.jsx)("h3",{children:t}),Object(j.jsxs)("p",{children:["Character: ",Object(j.jsx)("span",{children:i})]})]},n)}))})]})}function O(e){var t=Object(a.h)().movieId,c=Object(i.useState)([]),n=Object(l.a)(c,2),r=n[0],s=n[1],o="https://api.themoviedb.org/3/movie/".concat(t,"/reviews?");return Object(i.useEffect)((function(){b.fetchApi(o).then((function(e){s(e.results)})).catch((function(e){console.log(e)}))}),[o]),Object(j.jsxs)("div",{children:[Object(j.jsx)("ul",{children:r&&r.map((function(e){var t=e.author,c=e.content,i=e.id;return Object(j.jsxs)("li",{rey:i,children:[Object(j.jsx)("h3",{children:t}),Object(j.jsx)("p",{children:c})]})}))}),0===r.length&&Object(j.jsx)("p",{children:"We don't have ane reviews for this movie."})]})}function v(){var e=Object(a.h)().movieId,t="https://api.themoviedb.org/3/movie/".concat(e,"?"),c=Object(i.useState)([]),n=Object(l.a)(c,2),r=n[0],s=n[1],h=Object(a.f)();console.log(e,"quy"),Object(i.useEffect)((function(){b.fetchApi(t).then((function(e){s(e)})).catch((function(e){console.log(e)}))}),[t]);var d=function(){return r.title?r.title:r.original_title};return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"wrap-page",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){h.goBack()},children:"Back"}),Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(r.poster_path?r.poster_path:r.backdrop_path),alt:d()?d():"No info",width:"300"})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{children:[d()?d():"No info",Object(j.jsxs)("span",{children:["(",parseInt(r.release_date),")"]})]}),Object(j.jsx)("p",{children:"User scope: "}),Object(j.jsx)("h2",{children:"Overview"}),Object(j.jsx)("p",{children:r.overview}),Object(j.jsx)("h2",{children:"Genres"}),Object(j.jsx)("p",{children:r.genres&&r.genres.map((function(e){var t=e.name;return Object(j.jsx)("span",{children:t})}))})]})]},e),Object(j.jsxs)("div",{className:"wrap-dop",children:[Object(j.jsxs)(o.b,{to:"/goit-react-hw-05-movies/movies/".concat(e,"/cast"),children:["Cast"," "]},"1"),Object(j.jsx)(o.b,{to:"/goit-react-hw-05-movies/movies/".concat(e,"/reviews"),children:"Reviews"},"2")]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(a.a,{path:"/goit-react-hw-05-movies/movies/:movieId/cast",children:Object(j.jsx)(u,{})}),Object(j.jsx)(a.a,{path:"/goit-react-hw-05-movies/movies/:movieId/reviews",children:Object(j.jsx)(O,{})})]})]},e)}var f=c(14);function m(e){var t=e.onSubmit,c=Object(i.useState)(""),n=Object(l.a)(c,2),r=n[0],s=n[1],o=Object(a.f)(),h=Object(a.g)();return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r),o.push(Object(f.a)(Object(f.a)({},h),{},{search:"query=".concat(r)}))},children:[Object(j.jsx)("input",{className:"SearchForm-input",type:"text",value:r,autoComplete:"off",onChange:function(e){s(e.target.value.toLowerCase().trim())},autoFocus:!0,placeholder:"Search images and photos"}),Object(j.jsx)("button",{type:"submit","aria-label":"Search",children:"Search"})]})})}function p(e){var t=Object(i.useState)(""),c=Object(l.a)(t,2),n=c[0],r=c[1],s=function(e,t){var c=Object(i.useState)((function(){var c;return null!==(c=JSON.parse(window.localStorage.getItem(e)))&&void 0!==c?c:t})),n=Object(l.a)(c,2),r=n[0],s=n[1];return Object(i.useEffect)((function(){window.localStorage.setItem(e,JSON.stringify(r))}),[e,r]),[r,s]}("movies",[]),h=Object(l.a)(s,2),d=h[0],u=h[1],O=Object(a.g)(),v="https://api.themoviedb.org/3/search/movie?";Object(i.useEffect)((function(){if(""===O.search)return window.localStorage.clear(),void u([]);b.fetchApi(v,n).then((function(e){u(e.results)})).catch((function(e){console.log(e)}))}),[n,v,O.search,u]);return Object(j.jsxs)("div",{children:[Object(j.jsx)(m,{onSubmit:function(e){r(e)}}),0!==d.length?Object(j.jsx)("ul",{children:d.map((function(e){var t=e.name,c=e.original_title,i=e.id;return Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/goit-react-hw-05-movies/movies/".concat(i),children:t||c})},i)}))}):Object(j.jsx)("li",{children:"Enter correct film's name"})]})}function x(e){return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"404 Not found pages"})})}c(32);var g=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(h,{}),Object(j.jsxs)(a.c,{children:[Object(j.jsx)(a.a,{exact:!0,path:"/goit-react-hw-05-movies",children:Object(j.jsx)(d,{})}),Object(j.jsx)(a.a,{path:"/goit-react-hw-05-movies/movies/:movieId",children:Object(j.jsx)(v,{})}),Object(j.jsx)(a.a,{path:"/goit-react-hw-05-movies/movies",children:Object(j.jsx)(p,{})}),Object(j.jsx)(a.a,{children:Object(j.jsx)(x,{})})]})]})};s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(g,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.6f268e43.chunk.js.map